{"version":3,"file":"js/58.a49f8ff4.js","mappings":"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","sources":["webpack://erabbit-vue3/./src/api/order.js","webpack://erabbit-vue3/./src/views/checkout/index.vue","webpack://erabbit-vue3/./src/views/checkout/components/address-edit.vue","webpack://erabbit-vue3/./src/views/checkout/components/address-edit.vue?344f","webpack://erabbit-vue3/./src/views/checkout/index.vue?bad7"],"sourcesContent":["import request from '@/utils/request'\r\n// 获取结算信息\r\nexport const getCheckoutInfo = () => {\r\n  return request('/member/order/pre', 'get')\r\n}\r\n//添加收货地址\r\nexport const insertAddress = (data) => request('/member/address', 'post', data)\r\n// 查询收货地址\r\nexport const getAddress = () => request('/member/address', 'get')\r\n//更新收货地址\r\nexport const updateAddress = (data) =>\r\n  request(`/member/address/${data.id}`, 'put', data)\r\n//创建订单\r\nexport const createOrder = (data) => {\r\n  return request('/member/order', 'post', data)\r\n}\r\n//订单详情\r\nexport const getOrderInfo = (id) => request(`/member/order/${id}`, 'get')\r\n","<template>\r\n  <div class=\"xtx-checkout-page\">\r\n    <div class=\"container\">\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem to=\"/cart\">购物车</XtxBreadItem>\r\n        <XtxBreadItem>填写订单</XtxBreadItem>\r\n      </XtxBread>\r\n      <div class=\"wrapper\" v-if=\"info\">\r\n        <!-- 收货地址 -->\r\n        <h3 class=\"box-title\">收货地址</h3>\r\n        <div class=\"box-body\">\r\n          <div class=\"address\">\r\n            <div class=\"text\" v-if=\"defAddr\">\r\n              <!-- <div class=\"none\">您需要先添加收货地址才可提交订单。</div> -->\r\n              <ul>\r\n                <li>\r\n                  <span>收<i />货<i />人：</span>{{ defAddr.receiver }}\r\n                </li>\r\n                <li><span>联系方式：</span>{{ defAddr.contact }}</li>\r\n                <li>\r\n                  <span>收货地址：</span\r\n                  >{{ defAddr.fullLocation + defAddr.address }}\r\n                </li>\r\n              </ul>\r\n              <a href=\"javascript:;\" @click=\"openDialog(defAddr)\">修改地址</a>\r\n            </div>\r\n            <div class=\"text\" v-else>\r\n              <div class=\"none\">你需要先添加收货地址才能提交订单</div>\r\n            </div>\r\n            <div class=\"action\">\r\n              <XtxButton class=\"btn\" @click=\"openSelectDialog()\"\r\n                >切换地址</XtxButton\r\n              >\r\n              <XtxButton class=\"btn\" @click=\"openDialog({})\"\r\n                >添加地址</XtxButton\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 商品信息 -->\r\n        <h3 class=\"box-title\">商品信息</h3>\r\n        <div class=\"box-body\">\r\n          <table class=\"goods\">\r\n            <thead>\r\n              <tr>\r\n                <th width=\"520\">商品信息</th>\r\n                <th width=\"170\">单价</th>\r\n                <th width=\"170\">数量</th>\r\n                <th width=\"170\">小计</th>\r\n                <th width=\"170\">实付</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item in info.goods\" :key=\"item.skuId\">\r\n                <td>\r\n                  <a href=\"javascript:;\" class=\"info\">\r\n                    <img :src=\"item.picture\" alt=\"\" />\r\n                    <div class=\"right\">\r\n                      <p>{{ item.name }}</p>\r\n                      <p>{{ item.attrsText }}</p>\r\n                    </div>\r\n                  </a>\r\n                </td>\r\n                <td>&yen;{{ item.price }}</td>\r\n                <td>{{ item.count }}</td>\r\n                <td>&yen;{{ item.totalPrice }}</td>\r\n                <td>&yen;{{ item.totalPayPrice }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <!-- 配送时间 -->\r\n        <h3 class=\"box-title\">配送时间</h3>\r\n        <div class=\"box-body\">\r\n          <a class=\"my-btn active\" href=\"javascript:;\"\r\n            >不限送货时间：周一至周日</a\r\n          >\r\n          <a class=\"my-btn\" href=\"javascript:;\">工作日送货：周一至周五</a>\r\n          <a class=\"my-btn\" href=\"javascript:;\">双休日、假日送货：周六至周日</a>\r\n        </div>\r\n        <!-- 支付方式 -->\r\n        <h3 class=\"box-title\">支付方式</h3>\r\n        <div class=\"box-body\">\r\n          <a class=\"my-btn active\" href=\"javascript:;\">在线支付</a>\r\n          <a class=\"my-btn\" href=\"javascript:;\">货到付款</a>\r\n          <span style=\"color: #999\">货到付款需付5元手续费</span>\r\n        </div>\r\n        <!-- 金额明细 -->\r\n        <h3 class=\"box-title\">金额明细</h3>\r\n        <div class=\"box-body\">\r\n          <div class=\"total\">\r\n            <dl>\r\n              <dt>商品件数：</dt>\r\n              <dd>{{ info.summary.goodsCount }}件</dd>\r\n            </dl>\r\n            <dl>\r\n              <dt>商品总价：</dt>\r\n              <dd>¥{{ info.summary.totalPrice.toFixed(2) }}</dd>\r\n            </dl>\r\n            <dl>\r\n              <dt>运<i></i>费：</dt>\r\n              <dd>¥{{ info.summary.postFee.toFixed(2) }}</dd>\r\n            </dl>\r\n            <dl>\r\n              <dt>应付总额：</dt>\r\n              <dd class=\"price\">\r\n                ¥{{ info.summary.totalPayPrice.toFixed(2) }}\r\n              </dd>\r\n            </dl>\r\n          </div>\r\n        </div>\r\n        <!-- 提交订单 -->\r\n        <div class=\"submit\">\r\n          <XtxButton type=\"primary\" @click=\"submitOrder\">提交订单</XtxButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <AddressEdit ref=\"dialog\" @on-success=\"success\" />\r\n    <XtxDialog title=\"选择收货地址\" v-model:visible=\"visibleDialog\" v-if=\"info\">\r\n      <div\r\n        class=\"text item\"\r\n        @click=\"selectedId = item.id\"\r\n        :class=\"{ active: item.id === selectedId }\"\r\n        v-for=\"item in info.userAddresses\"\r\n        :key=\"item.id\"\r\n      >\r\n        <ul>\r\n          <li>\r\n            <span>收<i />货<i />人：</span> {{ item.receiver }}\r\n          </li>\r\n          <li><span>联系方式：</span>{{ item.contact }}</li>\r\n          <li><span>收货地址：</span>{{ item.fullLocation + item.address }}</li>\r\n        </ul>\r\n      </div>\r\n      <template #footer>\r\n        <XtxButton\r\n          @click=\"visibleDialog = false\"\r\n          type=\"gray\"\r\n          style=\"margin-right: 20px\"\r\n        >\r\n          取消\r\n        </XtxButton>\r\n        <XtxButton type=\"primary\" @click=\"confirm\"> 确认 </XtxButton>\r\n      </template>\r\n    </XtxDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getCheckoutInfo, getAddress, createOrder } from '@/api/order'\r\nimport Message from 'erabbit-ui/packages/components/Message'\r\nimport { computed, onMounted, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport AddressEdit from './components/address-edit'\r\n\r\nexport default {\r\n  name: 'XtxCheckoutPage',\r\n  components: { AddressEdit },\r\n  setup() {\r\n    const info = ref(null)\r\n    onMounted(async () => {\r\n      const data = await getCheckoutInfo()\r\n      info.value = data.result\r\n      console.log(data.result)\r\n    })\r\n    //默认地址\r\n    const defAddr = computed(() => {\r\n      // 有选中地址优先权\r\n      if (confirmId.value) {\r\n        return info.value.userAddresses.find(\r\n          (item) => item.id === confirmId.value\r\n        )\r\n      }\r\n      if (info.value && info.value.userAddresses) {\r\n        const defaultAddress = info.value.userAddresses.find(\r\n          (item) => item.isDefault === 0\r\n        )\r\n        return defaultAddress ? defaultAddress : info.value.userAddresses[0]\r\n      }\r\n      return null\r\n    })\r\n    const dialog = ref(null)\r\n    const openDialog = (addr) => {\r\n      dialog.value.open(addr)\r\n    }\r\n    const success = async () => {\r\n      const data = await getAddress()\r\n      info.value.userAddresses = data.result\r\n    }\r\n    const visibleDialog = ref(false)\r\n    const openSelectDialog = () => {\r\n      selectedId.value = null\r\n      visibleDialog.value = true\r\n    }\r\n    const selectedId = ref(null)\r\n    const confirmId = ref(null)\r\n    const confirm = () => {\r\n      confirmId.value = selectedId.value\r\n      visibleDialog.value = false\r\n    }\r\n    //\r\n    const router = useRouter()\r\n    const submitOrder = async () => {\r\n      if (!defAddr.value) return Message({ text: '请添加收货地址' })\r\n      try {\r\n        const data = await createOrder({\r\n          goods: info.value.goods.map(({ skuId, count }) => ({ skuId, count })),\r\n          addressId: defAddr.value.id,\r\n          //\r\n          deliveryTimeType: 1,\r\n          payType: 1,\r\n          payChannel: 1,\r\n          buyerMessage: ''\r\n        })\r\n        router.push(`/user/pay?id=${data.result.id}`)\r\n      } catch (e) {\r\n        Message({\r\n          type: 'error',\r\n          text: e.response.data.message || '确认订单失败'\r\n        })\r\n      }\r\n    }\r\n    return {\r\n      info,\r\n      defAddr,\r\n      openDialog,\r\n      dialog,\r\n      success,\r\n      visibleDialog,\r\n      openSelectDialog,\r\n      selectedId,\r\n      confirm,\r\n      submitOrder\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.xtx-dialog {\r\n  :deep(.wrapper) {\r\n    max-height: 100%;\r\n    overflow-y: auto;\r\n    .body {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .text {\r\n    flex: 1;\r\n    min-height: 90px;\r\n    display: flex;\r\n    align-items: center;\r\n    &.item {\r\n      border: 1px solid #f5f5f5;\r\n      margin-bottom: 10px;\r\n      cursor: pointer;\r\n      &.active,\r\n      &:hover {\r\n        border-color: var(--xtx-color);\r\n        background: lighten(#3eaf7c, 50%);\r\n      }\r\n      > ul {\r\n        padding: 10px;\r\n        font-size: 14px;\r\n        line-height: 30px;\r\n        i {\r\n          width: 0.5em;\r\n          display: inline-block;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.xtx-checkout-page {\r\n  .wrapper {\r\n    background: #fff;\r\n    padding: 0 20px;\r\n    .box-title {\r\n      font-size: 16px;\r\n      font-weight: normal;\r\n      padding-left: 10px;\r\n      line-height: 70px;\r\n      border-bottom: 1px solid #f5f5f5;\r\n    }\r\n    .box-body {\r\n      padding: 20px 0;\r\n    }\r\n  }\r\n}\r\n.address {\r\n  border: 1px solid #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  .text {\r\n    flex: 1;\r\n    min-height: 90px;\r\n    display: flex;\r\n    align-items: center;\r\n    .none {\r\n      line-height: 90px;\r\n      color: #999;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    > ul {\r\n      flex: 1;\r\n      padding: 20px;\r\n      li {\r\n        line-height: 30px;\r\n        span {\r\n          color: #999;\r\n          margin-right: 5px;\r\n          > i {\r\n            width: 0.5em;\r\n            display: inline-block;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    > a {\r\n      color: var(--xtx-color);\r\n      width: 160px;\r\n      text-align: center;\r\n      height: 90px;\r\n      line-height: 90px;\r\n      border-right: 1px solid #f5f5f5;\r\n    }\r\n  }\r\n  .action {\r\n    width: 420px;\r\n    text-align: center;\r\n    .btn {\r\n      width: 140px;\r\n      height: 46px;\r\n      line-height: 44px;\r\n      font-size: 14px;\r\n      &:first-child {\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.goods {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n  .info {\r\n    display: flex;\r\n    text-align: left;\r\n    img {\r\n      width: 70px;\r\n      height: 70px;\r\n      margin-right: 20px;\r\n    }\r\n    .right {\r\n      line-height: 24px;\r\n      p {\r\n        &:last-child {\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  tr {\r\n    th {\r\n      background: #f5f5f5;\r\n      font-weight: normal;\r\n    }\r\n    td,\r\n    th {\r\n      text-align: center;\r\n      padding: 20px;\r\n      border-bottom: 1px solid #f5f5f5;\r\n      &:first-child {\r\n        border-left: 1px solid #f5f5f5;\r\n      }\r\n      &:last-child {\r\n        border-right: 1px solid #f5f5f5;\r\n      }\r\n    }\r\n  }\r\n}\r\n.my-btn {\r\n  width: 228px;\r\n  height: 50px;\r\n  border: 1px solid #e4e4e4;\r\n  text-align: center;\r\n  line-height: 48px;\r\n  margin-right: 25px;\r\n  color: #666666;\r\n  display: inline-block;\r\n  &.active,\r\n  &:hover {\r\n    border-color: var(--xtx-color);\r\n  }\r\n}\r\n.total {\r\n  dl {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    line-height: 50px;\r\n    dt {\r\n      i {\r\n        display: inline-block;\r\n        width: 2em;\r\n      }\r\n    }\r\n    dd {\r\n      width: 240px;\r\n      text-align: right;\r\n      padding-right: 70px;\r\n      &.price {\r\n        font-size: 20px;\r\n        color: var(--price-color);\r\n      }\r\n    }\r\n  }\r\n}\r\n.submit {\r\n  text-align: right;\r\n  padding: 60px;\r\n  border-top: 1px solid #f5f5f5;\r\n}\r\n</style>\r\n","<template>\r\n  <XtxDialog\r\n    v-model:visible=\"dialogVisible\"\r\n    :title=\"`${form.id ? '修改' : '添加'}收货地址`\"\r\n  >\r\n    <div class=\"address-edit\">\r\n      <div class=\"xtx-form\">\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\"><i class=\"red\">*</i>收货人：</div>\r\n          <div class=\"field\">\r\n            <input\r\n              class=\"input\"\r\n              placeholder=\"请输入收货人\"\r\n              v-model=\"form.receiver\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\"><i class=\"red\">*</i>手机号：</div>\r\n          <div class=\"field\">\r\n            <input\r\n              class=\"input\"\r\n              placeholder=\"请输入手机号\"\r\n              v-model=\"form.contact\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\"><i class=\"red\">*</i>地区：</div>\r\n          <div class=\"field\">\r\n            <XtxCity\r\n              placeholder=\"请选择所在地区\"\r\n              :fullLocation=\"form.fullLocation\"\r\n              @change=\"changeCity\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\"><i class=\"red\">*</i>详细地址：</div>\r\n          <div class=\"field\">\r\n            <input\r\n              class=\"input\"\r\n              placeholder=\"请输入详细地址\"\r\n              v-model=\"form.address\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\">邮政编码：</div>\r\n          <div class=\"field\">\r\n            <input\r\n              class=\"input\"\r\n              placeholder=\"请输入邮政编码\"\r\n              v-model=\"form.postalCode\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"xtx-form-item\">\r\n          <div class=\"label\">地址标签：</div>\r\n          <div class=\"field\">\r\n            <input\r\n              class=\"input\"\r\n              placeholder=\"请输入地址标签，逗号分隔\"\r\n              v-model=\"form.addressTags\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <template #footer>\r\n      <XtxButton\r\n        @click=\"dialogVisible = false\"\r\n        type=\"gray\"\r\n        style=\"margin-right: 20px\"\r\n        >取消</XtxButton\r\n      >\r\n      <XtxButton @click=\"submit()\" type=\"primary\">确认</XtxButton>\r\n    </template>\r\n  </XtxDialog>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { insertAddress, updateAddress } from '@/api/order'\r\nimport Message from 'erabbit-ui/packages/components/Message'\r\nexport default {\r\n  name: 'AddressEdit',\r\n  emits: ['on-success'],\r\n  setup(props, { emit }) {\r\n    const dialogVisible = ref(false)\r\n    // 打开函数\r\n    const open = (addr) => {\r\n      form.value = { ...addr }\r\n      dialogVisible.value = true\r\n    }\r\n    const form = ref({})\r\n    const changeCity = (ret) => {\r\n      for (const key in ret) {\r\n        form.value[key] = ret[key]\r\n      }\r\n    }\r\n    const submit = async () => {\r\n      if (form.value.id) {\r\n        try {\r\n          await updateAddress(form.value)\r\n          Message({ type: 'success', text: '修改收货地址成功' })\r\n          emit('on-success')\r\n          dialogVisible.value = false\r\n        } catch (e) {\r\n          Message({\r\n            type: 'error',\r\n            text: e.response.data.message || '修改失败'\r\n          })\r\n        }\r\n      } else {\r\n        try {\r\n          form.value.isDefault = 1\r\n          await insertAddress(form.value)\r\n          Message({ type: 'success', text: '添加收货地址成功' })\r\n          emit('on-success')\r\n          dialogVisible.value = false\r\n        } catch (e) {\r\n          Message({\r\n            type: 'error',\r\n            text: e.response.data.message || '添加失败'\r\n          })\r\n        }\r\n      }\r\n    }\r\n    return { dialogVisible, open, form, changeCity, submit }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.address-edit {\r\n  .xtx-dialog {\r\n    :deep(.wrapper) {\r\n      max-height: 100%;\r\n      overflow-y: auto;\r\n      width: 780px;\r\n      .body {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .address-edit {\r\n    .red {\r\n      color: var(--price-color);\r\n      position: relative;\r\n      top: 2px;\r\n      margin-right: 2px;\r\n    }\r\n    .xtx-form {\r\n      padding: 0;\r\n      input {\r\n        outline: none;\r\n        &::placeholder {\r\n          color: #ccc;\r\n        }\r\n      }\r\n    }\r\n    .xtx-city {\r\n      width: 320px;\r\n      :deep(.select) {\r\n        height: 50px;\r\n        line-height: 48px;\r\n        display: flex;\r\n        padding: 0 10px;\r\n        justify-content: space-between;\r\n        .placeholder {\r\n          color: #ccc;\r\n        }\r\n        i {\r\n          color: #ccc;\r\n          font-size: 18px;\r\n        }\r\n        .value {\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      :deep(.option) {\r\n        top: 49px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./address-edit.vue?vue&type=template&id=6827c8b4&scoped=true\"\nimport script from \"./address-edit.vue?vue&type=script&lang=js\"\nexport * from \"./address-edit.vue?vue&type=script&lang=js\"\n\nimport \"./address-edit.vue?vue&type=style&index=0&id=6827c8b4&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Users\\\\shuangjian\\\\Desktop\\\\science\\\\Little-rabbit-fresh-mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6827c8b4\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=65edcd4e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=65edcd4e&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Users\\\\shuangjian\\\\Desktop\\\\science\\\\Little-rabbit-fresh-mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65edcd4e\"]])\n\nexport default __exports__"],"names":["getCheckoutInfo","request","insertAddress","data","getAddress","updateAddress","id","createOrder","getOrderInfo","class","_createElementVNode","_hoisted_15","width","href","_createElementBlock","_createVNode","_component_XtxBread","_component_XtxBreadItem","to","$setup","_hoisted_7","_hoisted_11","receiver","_hoisted_12","contact","_hoisted_13","fullLocation","address","onClick","_hoisted_16","_component_XtxButton","_hoisted_20","_hoisted_23","_Fragment","_renderList","goods","item","key","skuId","src","picture","alt","_toDisplayString","name","attrsText","price","count","totalPrice","totalPayPrice","_hoisted_27","_hoisted_34","summary","goodsCount","_hoisted_35","toFixed","_hoisted_36","postFee","_hoisted_37","type","_component_AddressEdit","ref","onOnSuccess","_createBlock","_component_XtxDialog","title","visible","$event","footer","style","userAddresses","active","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_4","placeholder","_hoisted_10","_component_XtxCity","onChange","postalCode","_hoisted_19","addressTags","emits","setup","props","emit","dialogVisible","open","addr","form","value","changeCity","ret","submit","async","Message","text","e","response","message","isDefault","__exports__","components","AddressEdit","info","onMounted","result","console","log","defAddr","computed","confirmId","find","defaultAddress","dialog","openDialog","success","visibleDialog","openSelectDialog","selectedId","confirm","router","useRouter","submitOrder","map","addressId","deliveryTimeType","payType","payChannel","buyerMessage","push","render"],"sourceRoot":""}