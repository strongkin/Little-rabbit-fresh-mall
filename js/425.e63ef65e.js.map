{"version":3,"file":"js/425.e63ef65e.js","mappings":"4PACOA,MAAM,iB,GACJA,MAAM,a,WAEc,M,WACP,O,SAEXA,MAAM,Q,GAICC,MAAM,O,WAIL,M,UAGLC,EAAAA,EAAAA,GAAyB,MAArBD,MAAM,OAAM,QAAI,K,UACpBC,EAAAA,EAAAA,GAAuB,MAAnBD,MAAM,OAAM,MAAE,K,UAClBC,EAAAA,EAAAA,GAAuB,MAAnBD,MAAM,OAAM,MAAE,K,UAClBC,EAAAA,EAAAA,GAAuB,MAAnBD,MAAM,OAAM,MAAE,K,UAClBC,EAAAA,EAAAA,GAAuB,MAAnBD,MAAM,OAAM,MAAE,K,GAgBXD,MAAM,S,aAKJA,MAAM,iB,GAGNA,MAAM,Q,GAIXA,MAAM,M,qBAEiC,Y,GAEjCA,MAAM,O,GAGZA,MAAM,M,GAQNA,MAAM,M,GACLA,MAAM,W,GAIPA,MAAM,M,UACRE,EAAAA,EAAAA,GAAuC,WAApCA,EAAAA,EAAAA,GAAgC,KAA7BC,KAAK,gBAAe,WAA1B,K,wBASAD,EAAAA,EAAAA,GAAqC,WAAlCA,EAAAA,EAAAA,GAA8B,KAA3BC,KAAK,gBAAe,SAA1B,K,SAOLH,MAAM,U,GACJA,MAAM,S,WAIN,M,GAKAA,MAAM,S,GAIHA,MAAM,O,WACoC,Q,4NArGxDI,EAAAA,EAAAA,IA0GM,MA1GN,EA0GM,EAzGJF,EAAAA,EAAAA,GAwGM,MAxGN,EAwGM,EAvGJG,EAAAA,EAAAA,IAGWC,EAAA,M,kBAFT,IAAsC,EAAtCD,EAAAA,EAAAA,IAAsCE,EAAA,CAAxBC,GAAG,KAAG,C,kBAAC,IAAE,M,OACvBH,EAAAA,EAAAA,IAAgCE,EAAA,M,kBAAlB,IAAG,M,eAEKE,EAAAA,OAAOC,QAAO,kBAAmBC,SAAAA,EAAAA,EAAAA,OAAzDP,EAAAA,EAAAA,IA8EM,MA9EN,EA8EM,EA7EJF,EAAAA,EAAAA,GA4EQ,eA3ENA,EAAAA,EAAAA,GAeQ,eAdNA,EAAAA,EAAAA,GAaK,YAZHA,EAAAA,EAAAA,GAMK,KANL,EAMK,EALHG,EAAAA,EAAAA,IAICO,EAAA,CAHEC,SAAQC,EAAAA,SACRC,WAAYN,EAAAA,OAAOC,QAAO,oBAF7B,C,kBAGG,IAAE,M,KAHL,+BAMFM,EACAC,EACAC,EACAC,EACAC,OAIJlB,EAAAA,EAAAA,GAyDQ,6BAxDNE,EAAAA,EAAAA,IAuDKiB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAtDYb,EAAAA,OAAOC,QAAO,mBAAtBa,K,WADTnB,EAAAA,EAAAA,IAuDK,MArDFoB,IAAKD,EAAKE,OAFb,EAIEvB,EAAAA,EAAAA,GAKK,YAJHG,EAAAA,EAAAA,IAGEO,EAAA,CAFCC,SAASa,GAAWZ,EAAAA,SAASS,EAAKE,MAAOC,GACzCX,WAAYQ,EAAKI,UAFpB,qCAKFzB,EAAAA,EAAAA,GAYK,YAXHA,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJG,EAAAA,EAAAA,IAEeuB,EAAA,CAFHpB,GAAG,KAAG,C,kBACf,IACD,EADCN,EAAAA,EAAAA,GACD,OADO2B,IAAKN,EAAKO,QAASC,IAAI,IAA7B,a,KADH,OAGA7B,EAAAA,EAAAA,GAKM,aAJJA,EAAAA,EAAAA,GAEI,IAFJ,GAEI8B,EAAAA,EAAAA,IADCT,EAAKU,MAAI,IAEd/B,EAAAA,EAAAA,GAAuC,IAAvC,GAAuC8B,EAAAA,EAAAA,IAApBT,EAAKW,UAAQ,UAItChC,EAAAA,EAAAA,GAMK,KANL,EAMK,EALHA,EAAAA,EAAAA,GAA+B,SAA5B,KAAK8B,EAAAA,EAAAA,IAAGT,EAAKY,UAAQ,GACfZ,EAAKa,MAAQb,EAAKY,SAAQ,eAAnC/B,EAAAA,EAAAA,IAGI,IAAAiC,EAAA,IADFnC,EAAAA,EAAAA,GAA8D,OAA9D,EAAkB,KAAK8B,EAAAA,EAAAA,IAAGT,EAAKa,MAAQb,EAAKY,UAAQ,OAFtD,kBAKFjC,EAAAA,EAAAA,GAOK,KAPL,EAOK,EANHG,EAAAA,EAAAA,IAKEiC,EAAA,CAJCvB,WAAYQ,EAAKgB,MACjB1B,SAAM,GAAEC,EAAAA,YAAYS,EAAKE,MAAOC,GAChCc,IAAK,EACLC,IAAKlB,EAAKmB,OAJb,2CAOFxC,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHA,EAAAA,EAAAA,GAEI,IAFJ,EAAmB,MACZ8B,EAAAA,EAAAA,IAAiB,IAAbT,EAAKY,SAAiBZ,EAAKgB,MAAK,WAG7CrC,EAAAA,EAAAA,GAWK,KAXL,EAWK,CAVHyC,GACAzC,EAAAA,EAAAA,GAOI,WANFA,EAAAA,EAAAA,GAKC,KAJCF,MAAM,QACNG,KAAK,eACJyC,QAAK,GAAE9B,EAAAA,WAAWS,EAAKE,QACvB,KAAE,EAAAoB,KAGPC,SArDJ,cApBN,eAgF0BrC,EAAAA,OAAOC,QAAO,kBAAmBC,SAAAA,EAAAA,EAAAA,OAA3DP,EAAAA,EAAAA,IAiBM,MAjBN,EAiBM,EAhBJF,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJG,EAAAA,EAAAA,IAICO,EAAA,CAHEC,SAAQC,EAAAA,SACRC,WAAYN,EAAAA,OAAOC,QAAO,oBAF7B,C,kBAGG,IAAE,M,KAHL,8BAMAR,EAAAA,EAAAA,GAA0D,KAAvDC,KAAK,eAAgByC,QAAK,eAAE9B,EAAAA,oBAAmB,WAEpDZ,EAAAA,EAAAA,GAMM,MANN,EAMM,UANa,OACf8B,EAAAA,EAAAA,IAAGvB,EAAAA,OAAOC,QAAO,oBAAsB,aACzCsB,EAAAA,EAAAA,IAAGvB,EAAAA,OAAOC,QAAO,uBAAyB,YAE1C,IAAAR,EAAAA,EAAAA,GAAqE,OAArE,EAAkB,KAAC8B,EAAAA,EAAAA,IAAGvB,EAAAA,OAAOC,QAAO,4BACpCL,EAAAA,EAAAA,IAAgE0C,EAAA,CAArDC,KAAK,UAAWJ,QAAK,eAAE9B,EAAAA,eAAlC,C,kBAAgD,IAAI,M,aAfxD,WAkBAmC,EAAAA,EAAAA,IAAmBC,EAAA,CAAA1B,IAAAA,S,6ECxGlBxB,MAAM,a,UACTE,EAAAA,EAAAA,GAA6C,OAAxC2B,IAAAsB,EAA+BpB,IAAI,IAAxC,W,UACA7B,EAAAA,EAAAA,GAAiB,SAAd,cAAU,K,GACRF,MAAM,O,WAC4C,Q,wEAJzDI,EAAAA,EAAAA,IAMM,MANN,EAMM,CALJgD,EACAC,GACAnD,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJG,EAAAA,EAAAA,IAAqE0C,EAAA,CAA1DC,KAAK,UAAWJ,QAAK,eAAEnC,EAAAA,QAAQ6C,KAAI,OAA9C,C,kBAAqD,IAAI,M,UAK/D,OACErB,KAAM,Y,QCJR,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,uCF0GA,IACEtB,KAAM,cACNuB,WAAY,CAAEC,SAAQA,GACtBC,QACE,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,EAAW,CAACpC,EAAOE,KACvBgC,EAAMG,SAAS,kBAAmB,CAAErC,MAAAA,EAAOE,SAAAA,KAGvCoC,EAAYpC,IAChBgC,EAAMG,SAAS,oBAAqBnC,IAGhCqC,EAAcvC,IAClBkC,EAAMG,SAAS,kBAAmBrC,IAG9BwC,EAAkB,MACtBC,EAAAA,EAAAA,GAAQ,CAAEC,KAAM,KAAMC,MAAK,KACzBT,EAAMG,SAAS,4BAIbO,EAAc,CAAC5C,EAAOc,KAC1BoB,EAAMG,SAAS,kBAAmB,CAAErC,MAAAA,EAAOc,MAAAA,KAGvC+B,GAASC,EAAAA,GAAAA,MACTC,EAAa,KAIjB,GAA4C,IAAxCb,EAAMjD,QAAQ,sBAChB,OAAO+D,EAAAA,GAAAA,GAAQ,CAAEN,KAAM,iBACpBR,EAAMe,MAAMC,KAAKC,QAAQC,MAU5BP,EAAOhB,KAAK,mBATZY,EAAAA,EAAAA,GAAQ,CAAEC,KAAM,qBACbC,MAAK,KAEJE,EAAOhB,KAAK,qBAEbwB,OAAOC,IACNC,QAAQC,IAAIF,OAMpB,MAAO,CACLlB,SAAAA,EACAE,SAAAA,EACAC,WAAAA,EACAC,gBAAAA,EACAI,YAAAA,EACAG,WAAAA,KGlKN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASU,GAAQ,CAAC,YAAY,qBAEzF,W","sources":["webpack://erabbit-vue3/./src/views/cart/index.vue","webpack://erabbit-vue3/./src/views/cart/component/cart-none.vue","webpack://erabbit-vue3/./src/views/cart/component/cart-none.vue?d070","webpack://erabbit-vue3/./src/views/cart/index.vue?9212"],"sourcesContent":["<template>\r\n  <div class=\"xtx-cart-page\">\r\n    <div class=\"container\">\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem>购物车</XtxBreadItem>\r\n      </XtxBread>\r\n      <div class=\"cart\" v-if=\"$store.getters['cart/validList'].length\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th width=\"120\">\r\n                <XtxCheckbox\r\n                  @change=\"checkAll\"\r\n                  :modelValue=\"$store.getters['cart/isCheckAll']\"\r\n                  >全选</XtxCheckbox\r\n                >\r\n              </th>\r\n              <th width=\"400\">商品信息</th>\r\n              <th width=\"220\">单价</th>\r\n              <th width=\"180\">数量</th>\r\n              <th width=\"180\">小计</th>\r\n              <th width=\"140\">操作</th>\r\n            </tr>\r\n          </thead>\r\n          <!-- 有效商品 -->\r\n          <tbody>\r\n            <tr\r\n              v-for=\"item in $store.getters['cart/validList']\"\r\n              :key=\"item.skuId\"\r\n            >\r\n              <td>\r\n                <XtxCheckbox\r\n                  @change=\"($event) => checkOne(item.skuId, $event)\"\r\n                  :modelValue=\"item.selected\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <div class=\"goods\">\r\n                  <RouterLink to=\"/\"\r\n                    ><img :src=\"item.picture\" alt=\"\"\r\n                  /></RouterLink>\r\n                  <div>\r\n                    <p class=\"name ellipsis\">\r\n                      {{ item.name }}\r\n                    </p>\r\n                    <p class=\"attr\">{{ item.attrText }}</p>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td class=\"tc\">\r\n                <p>&yen;{{ item.nowPrice }}</p>\r\n                <p v-if=\"item.price - item.nowPrice > 0\">\r\n                  比加入时降价\r\n                  <span class=\"red\">&yen;{{ item.price - item.nowPrice }}</span>\r\n                </p>\r\n              </td>\r\n              <td class=\"tc\">\r\n                <XtxNumbox\r\n                  :modelValue=\"item.count\"\r\n                  @change=\"changeCount(item.skuId, $event)\"\r\n                  :min=\"1\"\r\n                  :max=\"item.stock\"\r\n                />\r\n              </td>\r\n              <td class=\"tc\">\r\n                <p class=\"f16 red\">\r\n                  &yen;{{ (item.nowPrice * 100 * item.count) / 100 }}\r\n                </p>\r\n              </td>\r\n              <td class=\"tc\">\r\n                <p><a href=\"javascript:;\">移入收藏夹</a></p>\r\n                <p>\r\n                  <a\r\n                    class=\"green\"\r\n                    href=\"javascript:;\"\r\n                    @click=\"deleteCart(item.skuId)\"\r\n                    >删除</a\r\n                  >\r\n                </p>\r\n                <p><a href=\"javascript:;\">找相似</a></p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <!-- 操作栏 -->\r\n      <div class=\"action\" v-if=\"$store.getters['cart/validList'].length\">\r\n        <div class=\"batch\">\r\n          <XtxCheckbox\r\n            @change=\"checkAll\"\r\n            :modelValue=\"$store.getters['cart/isCheckAll']\"\r\n            >全选</XtxCheckbox\r\n          >\r\n          <!-- @click=\"deleteCart(item.skuId)\" -->\r\n          <a href=\"javascript:;\" @click=\"batchDeleteCart()\">删除商品</a>\r\n        </div>\r\n        <div class=\"total\">\r\n          共 {{ $store.getters['cart/validTotal'] }} 件商品，已选择\r\n          {{ $store.getters['cart/selectedTotal'] }}\r\n          件，商品合计：\r\n          <span class=\"red\">¥{{ $store.getters['cart/selectedAmount'] }}</span>\r\n          <XtxButton type=\"primary\" @click=\"goCheckout()\">下单结算</XtxButton>\r\n        </div>\r\n      </div>\r\n      <CartNone v-else />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CartNone from './component/cart-none'\r\nimport Confirm from 'erabbit-ui'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport Message from 'erabbit-ui/packages/components/Message'\r\nexport default {\r\n  name: 'XtxCartPage',\r\n  components: { CartNone },\r\n  setup() {\r\n    const store = useStore()\r\n    //单选\r\n    const checkOne = (skuId, selected) => {\r\n      store.dispatch('cart/updateCart', { skuId, selected })\r\n    }\r\n    // 全选\r\n    const checkAll = (selected) => {\r\n      store.dispatch('cart/checkAllCart', selected)\r\n    }\r\n    //删除商品\r\n    const deleteCart = (skuId) => {\r\n      store.dispatch('cart/deleteCart', skuId)\r\n    }\r\n    //批量删除商品\r\n    const batchDeleteCart = () => {\r\n      Confirm({ text: '' }).then(() => {\r\n        store.dispatch('cart/batchDeleteCart')\r\n      })\r\n    }\r\n    //\r\n    const changeCount = (skuId, count) => {\r\n      store.dispatch('cart/updateCart', { skuId, count })\r\n    }\r\n    // 跳转结算页面\r\n    const router = useRouter()\r\n    const goCheckout = () => {\r\n      //判断是否选中有效商品\r\n      //判断是否已经登录，未登录弹窗提示\r\n      //进行跳转 需要做访问权限控制\r\n      if (store.getters['cart/selectedTotal'] === 0)\r\n        return Message({ text: '至少选中一件商品才能结算' })\r\n      if (!store.state.user.profile.token) {\r\n        Confirm({ text: '下单结算需要登录，你是否去登录？' })\r\n          .then(() => {\r\n            //点击确认\r\n            router.push('/user/checkout')\r\n          })\r\n          .catch((e) => {\r\n            console.log(e)\r\n          })\r\n      } else {\r\n        router.push('/user/checkout')\r\n      }\r\n    }\r\n    return {\r\n      checkOne,\r\n      checkAll,\r\n      deleteCart,\r\n      batchDeleteCart,\r\n      changeCount,\r\n      goCheckout\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.tc {\r\n  text-align: center;\r\n  .xtx-numbox {\r\n    margin: 0 auto;\r\n    width: 120px;\r\n  }\r\n}\r\n.red {\r\n  color: var(--price-color);\r\n}\r\n.green {\r\n  color: var(--xtx-color);\r\n}\r\n.f16 {\r\n  font-size: 16px;\r\n}\r\n.goods {\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  > div {\r\n    width: 280px;\r\n    font-size: 16px;\r\n    padding-left: 10px;\r\n    .attr {\r\n      font-size: 14px;\r\n      color: #999;\r\n    }\r\n  }\r\n}\r\n.action {\r\n  display: flex;\r\n  background: #fff;\r\n  margin-top: 20px;\r\n  height: 80px;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  justify-content: space-between;\r\n  padding: 0 30px;\r\n  .xtx-checkbox {\r\n    color: #999;\r\n  }\r\n  .batch {\r\n    a {\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n  .red {\r\n    font-size: 18px;\r\n    margin-right: 20px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n.tit {\r\n  color: #666;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  line-height: 50px;\r\n}\r\n.xtx-cart-page {\r\n  .cart {\r\n    background: #fff;\r\n    color: #666;\r\n    table {\r\n      border-spacing: 0;\r\n      border-collapse: collapse;\r\n      line-height: 24px;\r\n      th,\r\n      td {\r\n        padding: 10px;\r\n        border-bottom: 1px solid #f5f5f5;\r\n        &:first-child {\r\n          text-align: left;\r\n          padding-left: 30px;\r\n          color: #999;\r\n        }\r\n      }\r\n      th {\r\n        font-size: 16px;\r\n        font-weight: normal;\r\n        line-height: 50px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"cart-none\">\r\n    <img src=\"@/assets/images/none.png\" alt=\"\" />\r\n    <p>购物车内暂时没有商品</p>\r\n    <div class=\"btn\">\r\n      <XtxButton type=\"primary\" @click=\"$router.push('/')\">继续逛逛</XtxButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'CartNone'\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.cart-none {\r\n  text-align: center;\r\n  padding: 150px 0;\r\n  background: #fff;\r\n  img {\r\n    width: 180px;\r\n  }\r\n  p {\r\n    color: #999999;\r\n    padding: 20px 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./cart-none.vue?vue&type=template&id=5157c5e3&scoped=true\"\nimport script from \"./cart-none.vue?vue&type=script&lang=js\"\nexport * from \"./cart-none.vue?vue&type=script&lang=js\"\n\nimport \"./cart-none.vue?vue&type=style&index=0&id=5157c5e3&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Users\\\\shuangjian\\\\Desktop\\\\science\\\\Little-rabbit-fresh-mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5157c5e3\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=75e7bf1a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=75e7bf1a&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Users\\\\shuangjian\\\\Desktop\\\\science\\\\Little-rabbit-fresh-mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75e7bf1a\"]])\n\nexport default __exports__"],"names":["class","width","_createElementVNode","href","_createElementBlock","_createVNode","_component_XtxBread","_component_XtxBreadItem","to","_ctx","getters","length","_component_XtxCheckbox","onChange","$setup","modelValue","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","item","key","skuId","$event","selected","_component_RouterLink","src","picture","alt","_toDisplayString","name","attrText","nowPrice","price","_hoisted_18","_component_XtxNumbox","count","min","max","stock","_hoisted_25","onClick","_hoisted_26","_hoisted_27","_component_XtxButton","type","_createBlock","_component_CartNone","_imports_0","_hoisted_2","_hoisted_3","push","__exports__","components","CartNone","setup","store","useStore","checkOne","dispatch","checkAll","deleteCart","batchDeleteCart","Confirm","text","then","changeCount","router","useRouter","goCheckout","Message","state","user","profile","token","catch","e","console","log","render"],"sourceRoot":""}