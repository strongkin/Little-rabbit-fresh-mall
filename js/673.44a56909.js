"use strict";(self["webpackChunkerabbit_vue3"]=self["webpackChunkerabbit_vue3"]||[]).push([[673],{9036:function(e,a,o){o.d(a,{K7:function(){return d},NZ:function(){return c},QO:function(){return s}});var t=o(4471);const c=e=>(0,t.Z)("/category","get",{id:e}),d=e=>(0,t.Z)("/search/all","psot",e),s=e=>(0,t.Z)("/goods","get",{id:e})},2673:function(e,a,o){o.r(a),o.d(a,{default:function(){return ae}});var t=o(3396),c=o(7139);const d=e=>((0,t.dD)("data-v-2d637468"),e=e(),(0,t.Cn)(),e),s={class:"xtx-goods-page"},n={key:0,class:"container"},l=d((()=>(0,t._)("div",{class:"loading"},null,-1))),i=[l],u={key:1,class:"container"},r=(0,t.Uk)("首页"),v={class:"goods-wrapper"},p={class:"media"},g=(0,t.Uk)("123"),f={class:"spec"},b=(0,t.Uk)("加入购物车");function m(e,a,o,d,l,m){const _=(0,t.up)("XtxBreadItem"),w=(0,t.up)("XtxBread"),k=(0,t.up)("XtxImageView"),y=(0,t.up)("GoodsSales"),h=(0,t.up)("GoodsInfo"),x=(0,t.up)("XtxSku"),C=(0,t.up)("XtxNumbox"),I=(0,t.up)("XtxButton"),D=(0,t.up)("GoodsFooter");return(0,t.wg)(),(0,t.iD)("div",s,[d.loading?((0,t.wg)(),(0,t.iD)("div",n,i)):((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{to:"/"},{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(_,{to:`/category/${d.goods.categories[1].id}`},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(d.goods.categories[1].name),1)])),_:1},8,["to"]),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(d.goods.name),1)])),_:1})])),_:1}),(0,t._)("div",v,[(0,t._)("div",p,[(0,t.Wm)(k,{images:d.goods.mainPictures},{default:(0,t.w5)((()=>[g])),_:1},8,["images"]),(0,t.Wm)(y)]),(0,t._)("div",f,[(0,t.Wm)(h,{goods:d.goods},null,8,["goods"]),(0,t.Wm)(x,{goods:d.goods,onChange:d.changeSku},null,8,["goods","onChange"]),(0,t.Wm)(C,{min:1,modelValue:d.count,"onUpdate:modelValue":a[0]||(a[0]=e=>d.count=e),label:"数量"},null,8,["modelValue"]),(0,t.Wm)(I,{onClick:d.insertCart,type:"primary",style:{"margin-top":"20px","margin-left":"60px"}},{default:(0,t.w5)((()=>[b])),_:1},8,["onClick"])])]),(0,t.Wm)(D,{goods:d.goods},null,8,["goods"])]))])}var _=o(9036),w=o(4870),k=o(678);const y={class:"goods-sales"},h=(0,t.uE)('<li data-v-1b6ecc59><p data-v-1b6ecc59>销量人气</p><p data-v-1b6ecc59>200+</p><p data-v-1b6ecc59><i class="iconfont icon-task-filling" data-v-1b6ecc59></i>销量人气</p></li><li data-v-1b6ecc59><p data-v-1b6ecc59>商品评价</p><p data-v-1b6ecc59>400+</p><p data-v-1b6ecc59><i class="iconfont icon-comment-filling" data-v-1b6ecc59></i>查看评价</p></li><li data-v-1b6ecc59><p data-v-1b6ecc59>收藏人气</p><p data-v-1b6ecc59>600+</p><p data-v-1b6ecc59><i class="iconfont icon-favorite-filling" data-v-1b6ecc59></i>收藏商品</p></li><li data-v-1b6ecc59><p data-v-1b6ecc59>品牌信息</p><p data-v-1b6ecc59>苏宁电器</p><p data-v-1b6ecc59><i class="iconfont icon-dynamic-filling" data-v-1b6ecc59></i>品牌主页</p></li>',4),x=[h];function C(e,a,o,c,d,s){return(0,t.wg)(),(0,t.iD)("ul",y,x)}var I={name:"GoodsSales"},D=o(89);const W=(0,D.Z)(I,[["render",C],["__scopeId","data-v-1b6ecc59"]]);var Z=W;const G={class:"g-name"},H={class:"g-desc"},X={class:"g-price"},z=(0,t.uE)('<div class="g-service" data-v-f36ec0be><dl data-v-f36ec0be><dt data-v-f36ec0be>促销</dt><dd data-v-f36ec0be>12月好物放送，App领券购买直降120元</dd></dl><dl data-v-f36ec0be><dt data-v-f36ec0be>配送</dt><dd data-v-f36ec0be>至</dd></dl><dl data-v-f36ec0be><dt data-v-f36ec0be>服务</dt><dd data-v-f36ec0be><span data-v-f36ec0be>无忧退货</span><span data-v-f36ec0be>快速退款</span><span data-v-f36ec0be>免费包邮</span><a href="javascript:;" data-v-f36ec0be>了解详情</a></dd></dl></div>',1);function P(e,a,o,d,s,n){const l=(0,t.up)("XtxCity");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("p",G,(0,c.zw)(o.goods.name),1),(0,t._)("p",H,(0,c.zw)(o.goods.desc),1),(0,t._)("p",X,[(0,t._)("span",null,(0,c.zw)(o.goods.price),1),(0,t._)("span",null,(0,c.zw)(o.goods.oldPrice),1)]),(0,t.Wm)(l,{fullLocation:d.fullLocation,onChange:d.change},null,8,["fullLocation","onChange"]),z],64)}var S={name:"GoodsInfo",props:{goods:{type:Object,default:()=>({})}},setup(){const e=(0,w.iH)("北京 北京市 东城区"),a=a=>{e.value=a.fullLocation};return{fullLocation:e,change:a}}};const U=(0,D.Z)(S,[["render",P],["__scopeId","data-v-f36ec0be"]]);var j=U;const L=e=>((0,t.dD)("data-v-2b051cfc"),e=e(),(0,t.Cn)(),e),B={class:"goods-footer"},O={class:"left"},V={class:"goods-detail"},E=L((()=>(0,t._)("div",{class:"head"},"商品详情",-1))),F={class:"content"},K=["src"],Y={class:"right"},N={class:"goods-hot"},Q=L((()=>(0,t._)("h3",null,"每日热榜",-1)));function T(e,a,o,c,d,s){const n=(0,t.up)("GoodsItem");return(0,t.wg)(),(0,t.iD)("div",B,[(0,t._)("div",O,[(0,t._)("div",V,[E,(0,t._)("div",F,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.goods.details.pictures,((e,a)=>((0,t.wg)(),(0,t.iD)("img",{key:a,src:e},null,8,K)))),128))])])]),(0,t._)("div",Y,[(0,t._)("div",N,[Q,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.goods.hotByDay,(e=>((0,t.wg)(),(0,t.j4)(n,{key:e.id,goods:e},null,8,["goods"])))),128))])])])}var A={name:"GoodsFooter",props:{goods:{type:Object,default:()=>({})}}};const R=(0,D.Z)(A,[["render",T],["__scopeId","data-v-2b051cfc"]]);var $=R,q=o(65),J=o(4942),M={name:"xtx-goods-page",components:{GoodsSales:Z,GoodsInfo:j,GoodsFooter:$},setup(){const e=(0,w.iH)(null),a=(0,w.iH)(!0),o=async o=>{a.value=!0;const t=await(0,_.QO)(o);console.log(t,"7891"),e.value=t.result,console.log(e,"789"),a.value=!1},c=(0,k.yj)();(0,t.bv)((()=>{o(c.params.id)})),(0,k.ao)(((e,a,t)=>{o(e.params.id),t()}));const d=(0,w.iH)(null),s=a=>{console.log(a,"ret"),a.skuId?(e.value.price=a.price,e.value.oldPrice=a.oldPrice,e.value.inventory=a.inventory,n.value=1,d.value=a):d.value=null},n=(0,w.iH)(1),l=(0,q.oR)(),i=()=>d.value?n.value>e.value.inventory?(0,J.Z)({text:"库存不足"}):void l.dispatch("cart/insertCart",{id:e.value.id,skuId:d.value.skuId,name:e.value.name,picture:e.value.mainPictures[0],price:d.value.price,nowPrice:d.value.price,count:n.value,attrsText:d.value.specsText,selected:!0,isEffective:!0,stock:d.value.inventory}).then((()=>{(0,J.Z)({text:"加入购物车成功",type:"success"})})).catch((()=>{(0,J.Z)({type:"error",text:"加入购物车失败"})})):(0,J.Z)({text:"请选择商品规格"});return{goods:e,loading:a,changeSku:s,count:n,insertCart:i}}};const ee=(0,D.Z)(M,[["render",m],["__scopeId","data-v-2d637468"]]);var ae=ee}}]);
//# sourceMappingURL=673.44a56909.js.map