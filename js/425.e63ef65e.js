"use strict";(self["webpackChunkerabbit_vue3"]=self["webpackChunkerabbit_vue3"]||[]).push([[425],{5425:function(t,e,a){a.r(e),a.d(e,{default:function(){return ct}});var l=a(3396),c=a(7139);const s=t=>((0,l.dD)("data-v-75e7bf1a"),t=t(),(0,l.Cn)(),t),n={class:"xtx-cart-page"},r={class:"container"},o=(0,l.Uk)("首页"),u=(0,l.Uk)("购物车"),d={key:0,class:"cart"},i={width:"120"},h=(0,l.Uk)("全选"),p=s((()=>(0,l._)("th",{width:"400"},"商品信息",-1))),_=s((()=>(0,l._)("th",{width:"220"},"单价",-1))),k=s((()=>(0,l._)("th",{width:"180"},"数量",-1))),g=s((()=>(0,l._)("th",{width:"180"},"小计",-1))),C=s((()=>(0,l._)("th",{width:"140"},"操作",-1))),w={class:"goods"},m=["src"],v={class:"name ellipsis"},f={class:"attr"},b={class:"tc"},x={key:0},D=(0,l.Uk)(" 比加入时降价 "),y={class:"red"},W={class:"tc"},I={class:"tc"},$={class:"f16 red"},z={class:"tc"},U=s((()=>(0,l._)("p",null,[(0,l._)("a",{href:"javascript:;"},"移入收藏夹")],-1))),V=["onClick"],A=s((()=>(0,l._)("p",null,[(0,l._)("a",{href:"javascript:;"},"找相似")],-1))),X={key:1,class:"action"},j={class:"batch"},P=(0,l.Uk)("全选"),Z={class:"total"},B={class:"red"},L=(0,l.Uk)("下单结算");function N(t,e,a,s,N,T){const q=(0,l.up)("XtxBreadItem"),O=(0,l.up)("XtxBread"),R=(0,l.up)("XtxCheckbox"),H=(0,l.up)("RouterLink"),K=(0,l.up)("XtxNumbox"),Y=(0,l.up)("XtxButton"),E=(0,l.up)("CartNone");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",r,[(0,l.Wm)(O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,{to:"/"},{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[u])),_:1})])),_:1}),t.$store.getters["cart/validList"].length?((0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("table",null,[(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",i,[(0,l.Wm)(R,{onChange:s.checkAll,modelValue:t.$store.getters["cart/isCheckAll"]},{default:(0,l.w5)((()=>[h])),_:1},8,["onChange","modelValue"])]),p,_,k,g,C])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.$store.getters["cart/validList"],(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.skuId},[(0,l._)("td",null,[(0,l.Wm)(R,{onChange:e=>s.checkOne(t.skuId,e),modelValue:t.selected},null,8,["onChange","modelValue"])]),(0,l._)("td",null,[(0,l._)("div",w,[(0,l.Wm)(H,{to:"/"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.picture,alt:""},null,8,m)])),_:2},1024),(0,l._)("div",null,[(0,l._)("p",v,(0,c.zw)(t.name),1),(0,l._)("p",f,(0,c.zw)(t.attrText),1)])])]),(0,l._)("td",b,[(0,l._)("p",null,"¥"+(0,c.zw)(t.nowPrice),1),t.price-t.nowPrice>0?((0,l.wg)(),(0,l.iD)("p",x,[D,(0,l._)("span",y,"¥"+(0,c.zw)(t.price-t.nowPrice),1)])):(0,l.kq)("",!0)]),(0,l._)("td",W,[(0,l.Wm)(K,{modelValue:t.count,onChange:e=>s.changeCount(t.skuId,e),min:1,max:t.stock},null,8,["modelValue","onChange","max"])]),(0,l._)("td",I,[(0,l._)("p",$," ¥"+(0,c.zw)(100*t.nowPrice*t.count/100),1)]),(0,l._)("td",z,[U,(0,l._)("p",null,[(0,l._)("a",{class:"green",href:"javascript:;",onClick:e=>s.deleteCart(t.skuId)},"删除",8,V)]),A])])))),128))])])])):(0,l.kq)("",!0),t.$store.getters["cart/validList"].length?((0,l.wg)(),(0,l.iD)("div",X,[(0,l._)("div",j,[(0,l.Wm)(R,{onChange:s.checkAll,modelValue:t.$store.getters["cart/isCheckAll"]},{default:(0,l.w5)((()=>[P])),_:1},8,["onChange","modelValue"]),(0,l._)("a",{href:"javascript:;",onClick:e[0]||(e[0]=t=>s.batchDeleteCart())},"删除商品")]),(0,l._)("div",Z,[(0,l.Uk)(" 共 "+(0,c.zw)(t.$store.getters["cart/validTotal"])+" 件商品，已选择 "+(0,c.zw)(t.$store.getters["cart/selectedTotal"])+" 件，商品合计： ",1),(0,l._)("span",B,"¥"+(0,c.zw)(t.$store.getters["cart/selectedAmount"]),1),(0,l.Wm)(Y,{type:"primary",onClick:e[1]||(e[1]=t=>s.goCheckout())},{default:(0,l.w5)((()=>[L])),_:1})])])):((0,l.wg)(),(0,l.j4)(E,{key:2}))])])}var T=a(8914);const q=t=>((0,l.dD)("data-v-5157c5e3"),t=t(),(0,l.Cn)(),t),O={class:"cart-none"},R=q((()=>(0,l._)("img",{src:T,alt:""},null,-1))),H=q((()=>(0,l._)("p",null,"购物车内暂时没有商品",-1))),K={class:"btn"},Y=(0,l.Uk)("继续逛逛");function E(t,e,a,c,s,n){const r=(0,l.up)("XtxButton");return(0,l.wg)(),(0,l.iD)("div",O,[R,H,(0,l._)("div",K,[(0,l.Wm)(r,{type:"primary",onClick:e[0]||(e[0]=e=>t.$router.push("/"))},{default:(0,l.w5)((()=>[Y])),_:1})])])}var F={name:"CartNone"},G=a(89);const J=(0,G.Z)(F,[["render",E],["__scopeId","data-v-5157c5e3"]]);var M=J,Q=a(5461),S=a(65),tt=a(678),et=a(4942),at={name:"XtxCartPage",components:{CartNone:M},setup(){const t=(0,S.oR)(),e=(e,a)=>{t.dispatch("cart/updateCart",{skuId:e,selected:a})},a=e=>{t.dispatch("cart/checkAllCart",e)},l=e=>{t.dispatch("cart/deleteCart",e)},c=()=>{(0,Q.Z)({text:""}).then((()=>{t.dispatch("cart/batchDeleteCart")}))},s=(e,a)=>{t.dispatch("cart/updateCart",{skuId:e,count:a})},n=(0,tt.tv)(),r=()=>{if(0===t.getters["cart/selectedTotal"])return(0,et.Z)({text:"至少选中一件商品才能结算"});t.state.user.profile.token?n.push("/user/checkout"):(0,Q.Z)({text:"下单结算需要登录，你是否去登录？"}).then((()=>{n.push("/user/checkout")})).catch((t=>{console.log(t)}))};return{checkOne:e,checkAll:a,deleteCart:l,batchDeleteCart:c,changeCount:s,goCheckout:r}}};const lt=(0,G.Z)(at,[["render",N],["__scopeId","data-v-75e7bf1a"]]);var ct=lt},8914:function(t,e,a){t.exports=a.p+"img/none.243beb2a.png"}}]);
//# sourceMappingURL=425.e63ef65e.js.map